<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Flechazo TV - Perfil Elite Funcional</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root { 
            --bg: #0f0f1a; --card: #1e1e2d; --primary: #ff4b4b; 
            --gold: #FFD700; --text: #fff; --text-sec: #aaa;
            --gradient: linear-gradient(135deg, #ff4b4b, #a24bfa);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { margin: 0; font-family: -apple-system, system-ui, sans-serif; background: var(--bg); color: var(--text); padding-bottom: 100px; overflow-x: hidden; }

        /* --- UI DE PERFIL --- */
        .profile-header {
            background: linear-gradient(to bottom, rgba(162, 75, 250, 0.2), var(--bg));
            padding: 50px 20px 20px; text-align: center;
        }

        .avatar-main {
            width: 120px; height: 120px; border-radius: 50%;
            border: 4px solid var(--primary); padding: 5px;
            background: var(--bg); position: relative; display: inline-block;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .avatar-main:active { transform: scale(0.9); }
        .avatar-main img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
        
        .edit-badge {
            position: absolute; bottom: 5px; right: 5px;
            background: var(--primary); color: white; width: 32px; height: 32px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            border: 3px solid var(--bg); font-size: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        /* Barra de XP */
        .xp-container {
            width: 200px; height: 8px; background: #333;
            margin: 15px auto; border-radius: 10px; overflow: hidden;
            position: relative;
        }
        .xp-fill {
            height: 100%; width: 65%; background: var(--gradient);
            transition: width 1s ease-in-out;
        }

        /* Tarjeta VIP */
        .vip-card {
            background: linear-gradient(135deg, #2c3e50, #000);
            margin: 20px; border-radius: 20px; padding: 20px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        }

        /* Stats */
        .gamer-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding: 0 20px; }
        .stat-box {
            background: var(--card); padding: 15px 5px; border-radius: 18px;
            text-align: center; border: 1px solid rgba(255,255,255,0.05);
        }
        .stat-box i { color: var(--primary); font-size: 18px; margin-bottom: 5px; }
        .stat-box b { display: block; font-size: 16px; }
        .stat-box span { font-size: 9px; color: var(--text-sec); letter-spacing: 1px; }

        /* Amigos */
        .friends-scroll { display: flex; gap: 15px; overflow-x: auto; padding: 15px 20px; scrollbar-width: none; }
        .friends-scroll::-webkit-scrollbar { display: none; }
        .friend-dot { min-width: 65px; text-align: center; font-size: 10px; transition: 0.2s; }
        .friend-dot:active { transform: scale(0.9); }
        .friend-avatar { width: 55px; height: 55px; border-radius: 18px; margin-bottom: 6px; border: 2px solid #00ff88; padding: 2px; object-fit: cover; }

        /* Ajustes */
        .menu-list { padding: 0 20px; }
        .menu-item {
            background: var(--card); display: flex; align-items: center;
            padding: 16px; border-radius: 18px; margin-bottom: 12px;
            cursor: pointer; border: 1px solid transparent; transition: 0.2s;
        }
        .menu-item:active { background: #252535; border-color: var(--primary); }
        .menu-item i:first-child { 
            width: 38px; height: 38px; background: rgba(255,255,255,0.05);
            border-radius: 12px; display: flex; align-items: center;
            justify-content: center; margin-right: 15px; color: var(--primary);
        }
        .menu-text { flex: 1; }
        .menu-text b { display: block; font-size: 14px; }
        .menu-text span { font-size: 11px; color: var(--text-sec); }

        /* --- MODALES --- */
        .modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.8);
            z-index: 1999; display: none; opacity: 0; transition: 0.3s;
        }
        .modal-overlay.active { display: block; opacity: 1; }

        .modal-sheet {
            position: fixed; bottom: -100%; left: 0; width: 100%;
            background: var(--card); border-radius: 30px 30px 0 0;
            padding: 30px 20px 50px; transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 2000; box-shadow: 0 -10px 40px rgba(0,0,0,0.8);
        }
        .modal-sheet.open { bottom: 0; }
        
        .avatar-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-top: 20px; }
        .avatar-option { 
            width: 100%; aspect-ratio: 1; border-radius: 50%; cursor: pointer; 
            border: 3px solid transparent; object-fit: cover; transition: 0.2s;
        }
        .avatar-option.active { border-color: var(--primary); transform: scale(1.1); }

        /* --- NAV --- */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; background: rgba(21, 21, 32, 0.95);
            display: flex; justify-content: space-around; padding: 15px 0 35px;
            border-top: 1px solid #333; z-index: 1000; backdrop-filter: blur(10px);
        }
        .nav-item { color: #666; text-align: center; font-size: 10px; flex: 1; }
        .nav-item.active { color: var(--primary); }
        .nav-item i { font-size: 20px; display: block; margin-bottom: 5px; }

        /* Toast */
        .toast {
            position: fixed; top: 50px; left: 50%; transform: translateX(-50%);
            background: var(--primary); color: white; padding: 10px 25px;
            border-radius: 50px; z-index: 3000; display: none; font-weight: bold;
            box-shadow: 0 5px 15px rgba(255, 75, 75, 0.4);
        }
    </style>
</head>
<body>

    <div id="toast" class="toast">¬°Avatar actualizado!</div>
    <div id="modal-overlay" class="modal-overlay" onclick="closeAllModals()"></div>

    <div id="tab-profile">
        <div class="profile-header">
            <div class="avatar-main" onclick="openModal('modal-avatars')">
                <img id="user-img" src="https://i.pinimg.com/736x/8b/16/7a/8b167af653c2399dd93b952a48740620.jpg">
                <div class="edit-badge"><i class="fa-solid fa-camera"></i></div>
            </div>
            <h2 id="display-name" style="margin:15px 0 5px;">Gamer_Pro_2025</h2>
            <div class="xp-container"><div id="xp-bar" class="xp-fill"></div></div>
            <span id="display-level" style="color:var(--text-sec); font-size:12px;">Nivel 15 ‚Ä¢ 650/1000 XP</span>
        </div>

        <div class="vip-card" onclick="alert('Funcionalidad Premium pr√≥ximamente')">
            <div>
                <b style="color:var(--gold); font-size:17px;"><i class="fa-solid fa-crown"></i> MIEMBRO PREMIUM</b>
                <p style="margin:5px 0 0; font-size:11px; color:#ccc;">Vence en: 15 de Enero, 2026</p>
            </div>
            <i class="fa-solid fa-chevron-right" style="opacity:0.5;"></i>
        </div>

        <div class="gamer-stats">
            <div class="stat-box">
                <i class="fa-solid fa-stopwatch"></i>
                <b id="stat-hours">128h</b>
                <span>Visto</span>
            </div>
            <div class="stat-box">
                <i class="fa-solid fa-fire"></i>
                <b id="stat-streak">12</b>
                <span>Racha</span>
            </div>
            <div class="stat-box">
                <i class="fa-solid fa-trophy"></i>
                <b id="stat-medals">45</b>
                <span>Logros</span>
            </div>
        </div>

        <div class="section-title" style="padding:25px 20px 10px; font-weight: bold; font-size: 14px;">üë• AMIGOS ONLINE</div>
        <div class="friends-scroll">
            <div class="friend-dot" onclick="pokeFriend('Sky_Killer')">
                <img src="https://i.pravatar.cc/100?u=1" class="friend-avatar">
                <span>Sky_Killer</span>
            </div>
            <div class="friend-dot" onclick="pokeFriend('Dramatica')">
                <img src="https://i.pravatar.cc/100?u=2" class="friend-avatar">
                <span>Dramatica</span>
            </div>
            <div class="friend-dot" onclick="pokeFriend('FF_Master')">
                <img src="https://i.pravatar.cc/100?u=4" class="friend-avatar">
                <span>FF_Master</span>
            </div>
            <div class="friend-dot" onclick="alert('Este amigo no est√° disponible')">
                <img src="https://i.pravatar.cc/100?u=3" class="friend-avatar" style="border-color:#555; opacity: 0.6;">
                <span style="color:#555;">Offline</span>
            </div>
        </div>

        <div class="section-title" style="padding:15px 20px 10px; font-weight: bold; font-size: 14px;">‚öôÔ∏è AJUSTES</div>
        <div class="menu-list">
            <div class="menu-item" onclick="openModal('modal-security')">
                <i class="fa-solid fa-shield-halved"></i>
                <div class="menu-text">
                    <b>Seguridad</b>
                    <span>PIN de acceso y contrase√±a</span>
                </div>
            </div>
            <div class="menu-item" onclick="clearAppData()">
                <i class="fa-solid fa-database"></i>
                <div class="menu-text">
                    <b>Almacenamiento</b>
                    <span id="cache-info">Cach√©: 142.5 MB</span>
                </div>
            </div>
            <div class="menu-item" style="background: rgba(255,75,75,0.05);" onclick="handleLogout()">
                <i class="fa-solid fa-power-off" style="color:#ff4b4b;"></i>
                <div class="menu-text">
                    <b style="color:#ff4b4b;">Cerrar Sesi√≥n</b>
                    <span>Salir de este dispositivo</span>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-avatars" class="modal-sheet">
        <div style="width:40px; height:5px; background:#444; border-radius:10px; margin:0 auto 20px;"></div>
        <h3 style="margin:0; text-align:center;">Elige tu Avatar</h3>
        <div class="avatar-grid" id="grid-options">
            </div>
        <button onclick="closeAllModals()" style="width:100%; padding:16px; margin-top:25px; background:var(--primary); border:none; border-radius:18px; color:white; font-weight:bold; cursor:pointer;">LISTO</button>
    </div>

    <div id="modal-security" class="modal-sheet">
        <div style="width:40px; height:5px; background:#444; border-radius:10px; margin:0 auto 20px;"></div>
        <h3 style="text-align:center;">Seguridad</h3>
        <div style="padding:10px 0;">
            <p style="font-size:13px; color:var(--text-sec);">Cambiar contrase√±a de la cuenta:</p>
            <input type="password" placeholder="Contrase√±a actual" style="width:100%; padding:15px; border-radius:12px; border:1px solid #444; background:#000; color:#fff; margin-bottom:10px;">
            <input type="password" placeholder="Nueva contrase√±a" style="width:100%; padding:15px; border-radius:12px; border:1px solid #444; background:#000; color:#fff;">
            <button onclick="alert('Contrase√±a actualizada')" style="width:100%; padding:16px; margin-top:15px; background:var(--gradient); border:none; border-radius:12px; color:white; font-weight:bold;">ACTUALIZAR</button>
        </div>
    </div>

    <nav class="bottom-nav">
        <div class="nav-item"><i class="fa-solid fa-house"></i>Inicio</div>
        <div class="nav-item"><i class="fa-solid fa-compass"></i>Explorar</div>
        <div class="nav-item"><i class="fa-brands fa-tiktok"></i>Shorts</div>
        <div class="nav-item active"><i class="fa-solid fa-user"></i>Perfil</div>
    </nav>

    <script>
        // --- BASE DE DATOS LOCAL ---
        const AVATARES = [
            "https://i.pinimg.com/736x/8b/16/7a/8b167af653c2399dd93b952a48740620.jpg",
            "https://wallpapers.com/images/hd/free-fire-criminal-bundle-4k-778-x-1024-h7d7i2d2y2d2.jpg",
            "https://i.pinimg.com/originals/a6/58/32/a65832155622ac173337874f02b218fb.png",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT6-m7_2oW0h529z5SAnI_U6m5B7u_iO6zL_A&usqp=CAU",
            "https://i.pravatar.cc/150?u=9",
            "https://i.pravatar.cc/150?u=12",
            "https://i.pravatar.cc/150?u=45",
            "https://i.pravatar.cc/150?u=30"
        ];

        // --- L√ìGICA DE INICIO ---
        window.onload = () => {
            initProfile();
            generateAvatarOptions();
        };

        function initProfile() {
            // Cargar imagen guardada
            const savedAvatar = localStorage.getItem('userAvatar');
            if(savedAvatar) document.getElementById('user-img').src = savedAvatar;

            // Simular ganancia de XP al entrar
            setTimeout(() => {
                const xpBar = document.getElementById('xp-bar');
                xpBar.style.width = "85%";
                document.getElementById('display-level').innerText = "Nivel 15 ‚Ä¢ 850/1000 XP";
            }, 500);
        }

        // --- MODALES ---
        function openModal(id) {
            document.getElementById('modal-overlay').classList.add('active');
            document.getElementById(id).classList.add('open');
        }

        function closeAllModals() {
            document.getElementById('modal-overlay').classList.remove('active');
            document.querySelectorAll('.modal-sheet').forEach(m => m.classList.remove('open'));
        }

        // --- FUNCIONES AVATAR ---
        function generateAvatarOptions() {
            const grid = document.getElementById('grid-options');
            const current = localStorage.getItem('userAvatar') || AVATARES[0];
            
            AVATARES.forEach(src => {
                const img = document.createElement('img');
                img.src = src;
                img.className = `avatar-option ${src === current ? 'active' : ''}`;
                img.onclick = () => selectAvatar(img, src);
                grid.appendChild(img);
            });
        }

        function selectAvatar(element, src) {
            document.querySelectorAll('.avatar-option').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
            document.getElementById('user-img').src = src;
            localStorage.setItem('userAvatar', src);
            showToast("Avatar actualizado con √©xito");
        }

        // --- ACCIONES GAMER ---
        function pokeFriend(name) {
            showToast("Saludaste a " + name + " üëã");
        }

        function clearAppData() {
            if(confirm("¬øDeseas limpiar el cach√© de la aplicaci√≥n para ganar espacio?")) {
                document.getElementById('cache-info').innerText = "Cach√©: 0.0 MB";
                showToast("Cach√© limpiada");
            }
        }

        function handleLogout() {
            if(confirm("¬øCerrar sesi√≥n en este dispositivo?")) {
                localStorage.removeItem('userAvatar');
                location.reload();
            }
        }

        // --- UI HELPERS ---
        function showToast(text) {
            const t = document.getElementById('toast');
            t.innerText = text;
            t.style.display = 'block';
            setTimeout(() => t.style.display = 'none', 2500);
        }
    </script>
</body>
</html>
